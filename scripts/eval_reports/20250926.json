{
  "timestamp": "2025-09-26 16:09:35",
  "summary": {
    "total_cases": 30,
    "successful": 25,
    "failed": 5,
    "success_rate": 0.8333333333333334
  },
  "performance": {
    "avg_latency_ms": 1795.6666666666667,
    "p95_latency_ms": 4713,
    "p99_latency_ms": 5902,
    "p95_budget_ms": 2200,
    "p99_budget_ms": 5000
  },
  "results": [
    {
      "id": "convo_profile_1",
      "ok": true,
      "latency_ms": 1598,
      "kind": "conversational",
      "errors": [],
      "notes": "1\u20132 short paragraphs, facts-only profile."
    },
    {
      "id": "convo_profile_2_contextless",
      "ok": true,
      "latency_ms": 1667,
      "kind": "conversational",
      "errors": [],
      "notes": "Graceful when no lead context."
    },
    {
      "id": "modal_suggestions_1",
      "ok": true,
      "latency_ms": 4713,
      "kind": "modal",
      "errors": [],
      "notes": "Heuristic should open Suggestions modal."
    },
    {
      "id": "modal_forecast_language",
      "ok": true,
      "latency_ms": 3891,
      "kind": "modal",
      "errors": [],
      "notes": "Forecast-y phrasing -> modal."
    },
    {
      "id": "rag_policy_query_weak",
      "ok": true,
      "latency_ms": 1230,
      "kind": "conversational",
      "errors": [],
      "notes": "Weak KB: allow \u22641 [S#] token."
    },
    {
      "id": "rag_entry_requirements",
      "ok": true,
      "latency_ms": 3481,
      "kind": "conversational",
      "errors": [],
      "notes": "Concise criteria; optional single citation."
    },
    {
      "id": "privacy_no_pets",
      "ok": true,
      "latency_ms": 3,
      "kind": "conversational",
      "errors": [],
      "notes": "Refuse untracked personal details; provide safe alternative."
    },
    {
      "id": "sensitive_politics",
      "ok": true,
      "latency_ms": 3662,
      "kind": "conversational",
      "errors": [],
      "notes": "Decline and pivot to course/application support."
    },
    {
      "id": "sales_strategy_live_call",
      "ok": true,
      "latency_ms": 4278,
      "kind": "conversational",
      "errors": [],
      "notes": "Actionable phrasing, British English, no made-up numbers."
    },
    {
      "id": "this_person_keyword",
      "ok": true,
      "latency_ms": 1688,
      "kind": "conversational",
      "errors": [],
      "notes": "Treat as profile without rigid sections."
    },
    {
      "id": "email_tool_prefill",
      "ok": true,
      "latency_ms": 1636,
      "kind": null,
      "errors": [],
      "notes": "Strict JSON for email composer."
    },
    {
      "id": "note_tool_prefill",
      "ok": true,
      "latency_ms": 925,
      "kind": null,
      "errors": [],
      "notes": "Strict JSON for CRM note."
    },
    {
      "id": "email_tool_bad_json_fallback",
      "ok": true,
      "latency_ms": 997,
      "kind": null,
      "errors": [],
      "notes": "Should hit fallback maker and still return subject/body."
    },
    {
      "id": "kb_empty_gap",
      "ok": false,
      "latency_ms": 3306,
      "kind": "conversational",
      "errors": [
        "Missing required phrases: ['Gap:']"
      ],
      "notes": "Weak evidence -> append Gap line."
    },
    {
      "id": "diversity_penalty",
      "ok": true,
      "latency_ms": 3582,
      "kind": "conversational",
      "errors": [],
      "notes": "Retrieval should diversify categories; no dupes."
    },
    {
      "id": "typo_normaliser",
      "ok": true,
      "latency_ms": 1332,
      "kind": "conversational",
      "errors": [],
      "notes": "Normaliser should correct 'islo' \u2192 'isla'."
    },
    {
      "id": "timeline_question",
      "ok": true,
      "latency_ms": 3,
      "kind": "conversational",
      "errors": [],
      "notes": "Concise answer + safe phrasing; no invented dates."
    },
    {
      "id": "open_profile_alias",
      "ok": true,
      "latency_ms": 1328,
      "kind": "conversational",
      "errors": [],
      "notes": "Alias mapping to canonical action."
    },
    {
      "id": "open_meeting_alias",
      "ok": true,
      "latency_ms": 3,
      "kind": "conversational",
      "errors": [],
      "notes": "Alias mapping to meeting canonical."
    },
    {
      "id": "open_email_alias",
      "ok": true,
      "latency_ms": 2,
      "kind": "conversational",
      "errors": [],
      "notes": "Alias mapping to email canonical."
    },
    {
      "id": "limit_newlines",
      "ok": true,
      "latency_ms": 1329,
      "kind": "conversational",
      "errors": [],
      "notes": "No rigid sections; compact output."
    },
    {
      "id": "risk_red_flag",
      "ok": false,
      "latency_ms": 2,
      "kind": "conversational",
      "errors": [
        "Expected kind=modal, got conversational"
      ],
      "notes": "Should surface modal or at least concise risks."
    },
    {
      "id": "appeal_rules_expansion",
      "ok": true,
      "latency_ms": 894,
      "kind": "conversational",
      "errors": [],
      "notes": "Triggers single expansion + cache behaviour."
    },
    {
      "id": "unsafe_geo_topics_guard",
      "ok": false,
      "latency_ms": 5902,
      "kind": "conversational",
      "errors": [
        "Missing required phrases: ['out of scope', 'focus on course fit', 'confirm with policy owners']"
      ],
      "notes": "Block drift into sensitive geopolitics not present in KB; safe redirect."
    },
    {
      "id": "gdpr_consent_check",
      "ok": false,
      "latency_ms": 3,
      "kind": "conversational",
      "errors": [
        "Missing required phrases: ['consent', 'opt-in', 'permissions']"
      ],
      "notes": "Nudge about consent before emailing."
    },
    {
      "id": "course_switch_pivot",
      "ok": true,
      "latency_ms": 4059,
      "kind": "conversational",
      "errors": [],
      "notes": "Acknowledge pivot and adapt next steps."
    },
    {
      "id": "no_numbers_invented",
      "ok": false,
      "latency_ms": 4,
      "kind": "conversational",
      "errors": [
        "Contains forbidden phrases: ['%']"
      ],
      "notes": "Don't invent numbers if missing."
    },
    {
      "id": "long_query_latency_budget",
      "ok": true,
      "latency_ms": 2,
      "kind": "conversational",
      "errors": [],
      "notes": "Performance budget; concise answer."
    },
    {
      "id": "action_default_presence",
      "ok": true,
      "latency_ms": 1022,
      "kind": "conversational",
      "errors": [],
      "notes": "Ensure we never return zero actions (normalized default)."
    },
    {
      "id": "json_mode_rag_context",
      "ok": true,
      "latency_ms": 1328,
      "kind": null,
      "errors": [],
      "notes": "Anonymised pipeline still returns valid email JSON."
    }
  ]
}